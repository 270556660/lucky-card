{"name":"Lucky-card","tagline":"基于HTML5 Canvas的刮奖（刮刮卡）小控件(Scratch card based on HTML5 Canvas)","body":"# lucky-card #\r\n\r\nlucky-card是一个实现刮刮卡刮奖效果的JavaScript小控件，基于HTML5 Canvas，采用原生js编写，不依赖任何类库，支持AMD/CMD模块化加载，支持iOS、Android和桌面浏览器（IE>=9）,Windows Phone未测。\r\n\r\n## DEMO ##\r\n\r\n请用手机扫描以下二维码，桌面浏览器可以[点击这里](http://franslee.github.io/lucky-card/demo.html)\r\n#![github](http://franslee.github.io/lucky-card/qr_code.png \"lucky-card DEMO\") \r\n\r\n## 用法 ##\r\n\r\nHTML结构\r\n\r\n```html\r\n<div id=\"scratch\">\r\n    <div id=\"card\">￥5000000元</div>\r\n</div>\r\n```\r\n\r\n在页面中引入控件所需样式表文件lucky-card.css\r\n\r\n```html\r\n<link rel=\"stylesheet\" href=\"../dist/lucky-card.css\">\r\n```\r\n*以上css文件只有控件所必需的样式，刮刮卡样式请根据需要自行编写（可参考DEMO页面）*\r\n\r\n\r\n引入lucky-card.js/lucky-card.min.js文件\r\n\r\n```html\r\n<script src='../dist/lucky-card.js'></script>\r\n```\r\n\r\n在确保页面相关DOM加载完毕(*如写在页面底部，或document的DOMContentLoaded事件处理函数中*)之后，初始化控件\r\n\r\n```js\r\nLuckyCard.case();\r\n```\r\n\r\n## 可配置项与回调函数 ##\r\n\r\n初始化lucky-card控件时，支持传入一个JSON对象和(或)一个回调函数，用于配置控件功能/设置回调函数\r\n\r\n```js\r\nLuckyCard.case(settings,callback);\r\n```\r\n\r\n* 参数settings是一个JSON对象，可选，用于配置控件功能\r\n* 参数callback是回调函数，可选，也可以写在settings中\r\n\r\n### 可配置项（settings）一览 ###\r\n<table>\r\n\t<tr>\r\n\t\t<th>key</th>\r\n\t\t<th>类型</th>\r\n\t\t<th>默认值</th>\r\n\t\t<th>描述</th>\r\n\t</tr>\r\n\t<tr>\r\n\t\t<td>coverColor</td>\r\n\t\t<td>string</td>\r\n\t\t<td>\"#C5C5C5\"</td>\r\n\t\t<td>刮开层的颜色，未设置coverImg时生效，支持十六进制和rgba写法</td>\r\n\t</tr>\r\n\t<tr>\r\n\t\t<td>coverImg</td>\r\n\t\t<td>string</td>\r\n\t\t<td>\"\"</td>\r\n\t\t<td>刮开层可以是一张图片，在这里设置图片地址，一旦设置此项，coverColor将失效。（注意：图片地址不支持跨域，如果跨域可以考虑将先其转成Data URI）</td>\r\n\t</tr>\r\n\t<tr>\r\n\t\t<td>ratio</td>\r\n\t\t<td>number</td>\r\n\t\t<td>0.8</td>\r\n\t\t<td>触发回调函数时刮开面积占总面积的比例，超过这个比例回调就触发。建议取值在0到1之间。</td>\r\n\t</tr>\r\n\t<tr>\r\n\t\t<td>callback</td>\r\n\t\t<td>function</td>\r\n\t\t<td>null</td>\r\n\t\t<td>回调函数，在刮开面积占总面积的比例超过设定值时触发，亦可作为一个独立的参数存在。回调函数内可以调用this.clearCover()方法清除掉刮开层的所有像素。</td>\r\n\t</tr>\r\n</table>\r\n#\r\n```js\r\n//基本用法\r\nLuckyCard.case({coverColor:'#CCCCCC',ratio:.6,callback:function(){alert('中奖啦！')}});\r\n\r\n//刮开层支持使用图片，但图片不能跨域，如果跨域可以考虑将先其转成Data URI，再设置\r\nLuckyCard.case({coverImg:'./demo.jpg'});\r\n\r\n//callback可作为一个独立的参数存在\r\nLuckyCard.case(function(){\r\n\t//清除掉刮开层的所有像素\r\n\tthis.clearCover();\r\n});\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}